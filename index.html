<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>res-tool – Zentrales Reservierungssystem</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./src/styles.css">
</head>
<body>
  <!-- Topbar -->
  <header class="topbar shell">
    <div class="brand">
      <!-- Logo-Datei später unter ./assets/logo.png ablegen -->
      <img src="./assets/logo.png" alt="Blue & Red Water Hospitality" class="logo" onerror="this.style.display='none'">
      <h1>res-tool</h1>
    </div>
    <nav class="actions">
      <button class="iconbtn" data-open="newRes" title="Neue Reservierung">➕</button>
      <button class="iconbtn" data-open="reservations" title="Reservierungen">📄</button>
      <button class="iconbtn" data-open="availability" title="Verfügbarkeit">📊</button>
      <button class="iconbtn" data-open="reporting" title="Reporting">📈</button>
      <button class="iconbtn" data-open="house" title="Hausskizze">🏢</button>
      <button class="iconbtn" data-open="settings" title="Einstellungen">⚙️</button>
    </nav>
  </header>

  <!-- Hero / Schnellzugriff -->
  <main class="shell hero">
    <div class="hero-card card">
      <h2>Schnellzugriff</h2>
      <div class="quickgrid">
        <button class="quick" data-open="newRes">Neue Reservierung</button>
        <button class="quick" data-open="reservations">Reservierungen</button>
        <button class="quick" data-open="availability">Verfügbarkeit</button>
        <button class="quick" data-open="reporting">Reporting</button>
        <button class="quick" data-open="house">Hausskizze</button>
        <button class="quick" data-open="settings">Einstellungen</button>
      </div>
    </div>
  </main>

  <!-- Toast -->
  <div id="toast" class="toast" aria-live="polite"></div>

  <!-- Modals -->
  <div class="modal" id="modal-newRes" aria-hidden="true">
    <div class="dialog">
      <header>
        <h3>Neue Reservierung</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section id="newResContent"><!-- dynamisch aus app.js --></section>
    </div>
  </div>

  <div class="modal" id="modal-reservations" aria-hidden="true">
    <div class="dialog wide">
      <header>
        <h3>Reservierungen</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section>
        <div class="toolbar">
          <input id="resSearch" placeholder="Gastname suchen…">
        </div>
        <div id="resList"></div>
        <div class="pager">
          <button id="resPrev">Zurück</button>
          <span id="resPageinfo"></span>
          <button id="resNext">Weiter</button>
        </div>
      </section>
    </div>
  </div>

  <div class="modal" id="modal-availability" aria-hidden="true">
    <div class="dialog wide">
      <header>
        <h3>Verfügbarkeit</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section>
        <div class="toolbar">
          <label>Hotel
            <select id="availHotel"></select>
          </label>
          <label>Start
            <input type="date" id="availStart">
          </label>
          <label>Tage
            <input type="number" id="availDays" min="1" max="30" value="14">
          </label>
          <button class="primary" id="availGenerate">Aktualisieren</button>
        </div>
        <div id="availTable" class="table"></div>
      </section>
    </div>
  </div>

  <div class="modal" id="modal-reporting" aria-hidden="true">
    <div class="dialog">
      <header>
        <h3>Reporting</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section>
        <p class="muted">KPIs (ADR, RN, Umsatz) folgen – Datenquelle später OHIP/HNS.</p>
      </section>
    </div>
  </div>

  <div class="modal" id="modal-house" aria-hidden="true">
    <div class="dialog">
      <header>
        <h3>Hausskizze</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section>
        <p class="muted">Belegung nach Etagen/Zimmer folgt – Wireframe/Plan kann hier eingebettet werden.</p>
      </section>
    </div>
  </div>

  <div class="modal" id="modal-settings" aria-hidden="true">
    <div class="dialog">
      <header>
        <h3>Einstellungen</h3>
        <button class="close" data-close>✕</button>
      </header>
      <section id="settingsContent">
        <p class="muted">Allgemein, Branding (Farben/Logo), API Keys, Nutzerrechte – folgt.</p>
      </section>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script type="module" src="./src/app.js"></script>
</body>
</html>
